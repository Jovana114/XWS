syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.xws.accommodation";

import "google/protobuf/empty.proto";

import "common.proto";
import "appointment.proto";

message Accommodation {
  string id = 1;
  string name = 2;
  string location = 3;
  string benefits = 4;
  bytes pic = 5;
  int32 min_guests = 6;
  int32 max_guests = 7;
  repeated appointment.Appointment appointments = 8;
  string user_id = 9;
  repeated common.Reservation reservations = 10;
}

message GetReservationsByAccommodationIdRequest {
  string accommodation_id = 1;
}

message GetReservationsByAccommodationIdResponse {
  repeated common.Reservation reservations = 1;
}

service AccommodationService {
  rpc GetReservationsByAccommodationId(GetReservationsByAccommodationIdRequest) returns (GetReservationsByAccommodationIdResponse);
  rpc AddReservationToAccommodation(AddReservationToAccommodationRequest) returns (google.protobuf.Empty);
}

message AddReservationToAccommodationRequest {
  string accommodation_id = 1;
  common.Reservation reservation = 2;
}
